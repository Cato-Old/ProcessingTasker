package View.GUI;import Controller.Controller;import Model.Projects.Project;import javafx.scene.control.*;import javafx.scene.layout.HBox;import javafx.scene.layout.Pane;import javafx.scene.layout.VBox;import javafx.stage.DirectoryChooser;import javafx.stage.Stage;import java.io.File;import java.util.List;import java.util.stream.Collectors;public class PublicationTree{    Controller controller;    Stage stage;    public PublicationTree(Controller controller, Stage stage) {        this.controller = controller;        this.stage = stage;    }    private HBox createMenu(){        Button addProject = new Button("Add");        Button remProject = new Button("Remove");        addProject.setOnAction(evt -> controller.addProject(chooseDir()));        return new HBox(addProject, remProject);    }    public TreeView<String> createTree(List<Project> projects){        List<TreeItem<String>> pubTree = projects.stream()                .map(p -> {                    TreeItem<String> treeItem = new TreeItem<>(p.getName());                    treeItem.getChildren().addAll(                            p.getPublications()                                    .stream()                                    .map(pub -> new TreeItem<String>(pub.getName()))                                    .collect(Collectors.toList()));                    return treeItem;})                .collect(Collectors.toList());        TreeItem<String> root = new TreeItem<>();        root.getChildren().addAll(pubTree);        TreeView<String> pubTreeView = new TreeView<>(root);        pubTreeView.setShowRoot(false);        pubTreeView.getRoot().getChildren().contains(pubTreeView.getSelectionModel().getSelectedItem());        new PublicationTreeContextMenu(pubTreeView).createContextMenu();        return pubTreeView;    }    private String chooseDir(){        DirectoryChooser dirChooser = new DirectoryChooser();        File dir = dirChooser.showDialog(stage);        return dir.getName();    }    public Pane create(List<Project> projects){        return new VBox(createTree(projects), createMenu());    }}